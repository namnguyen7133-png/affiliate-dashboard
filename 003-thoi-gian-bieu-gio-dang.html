<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Affiliate Story + Alarm Machine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f4f6f8;padding:20px;max-width:1000px;margin:auto}
h1{text-align:center;color:#b71c1c;font-size:30px}
h2{margin-top:25px}
input,textarea,select{width:100%;font-size:18px;padding:10px;margin-top:6px}
button{padding:10px 14px;font-size:18px;margin-top:10px;border:none;border-radius:6px;cursor:pointer}
.green{background:#2e7d32;color:#fff}
.blue{background:#1565c0;color:#fff}
.orange{background:#f57c00;color:#fff}
.card{background:#fff;padding:15px;margin-top:15px;border-radius:8px}
.small{font-size:16px;color:#555}
.story{white-space:pre-line;font-size:19px}
</style>
</head>

<body>

<h1>ğŸ¤– AFFILIATE STORY + ALARM</h1>

<div class="card">
<h2>â° Giá» Ä‘Äƒng bÃ i (tá»± nháº¯c)</h2>
<input type="time" id="alarm" value="19:30">
<button class="orange" onclick="setAlarm()">ğŸ”” Äáº¶T BÃO THá»¨C</button>
<div id="alarmStatus" class="small"></div>
</div>

<div class="card">
<h2>ğŸ”— ThÃ´ng tin sáº£n pháº©m</h2>
<label>Link sáº£n pháº©m</label>
<input id="link">

<label>GiÃ¡ sáº£n pháº©m (VNÄ)</label>
<input id="price" type="number">

<label>% Hoa há»“ng</label>
<input id="commission" type="number" value="5">

<label>Chá»§ Ä‘á» ngá»¥ ngÃ´n</label>
<select id="theme">
<option value="gia-dinh">Gia Ä‘Ã¬nh</option>
<option value="suc-khoe">Sá»©c khá»e</option>
<option value="gia-dung">Gia dá»¥ng</option>
<option value="me-be">Máº¹ & BÃ©</option>
<option value="cong-nghe">CÃ´ng nghá»‡</option>
</select>

<button class="green" onclick="generate()">âœï¸ Táº O TRUYá»†N + LÆ¯U</button>
</div>

<div id="list"></div>

<script>
let data = JSON.parse(localStorage.getItem("aff_story") || "[]");

// tá»± xÃ³a sau 30 ngÃ y
data = data.filter(i => Date.now() - i.time < 30*86400000);
save();

function save(){
 localStorage.setItem("aff_story", JSON.stringify(data));
 render();
}

function generate(){
 const link=document.getElementById("link").value.trim();
 if(!link){alert("ChÆ°a cÃ³ link");return;}

 const theme=document.getElementById("theme").value;
 let story="";

 const stories={
  "gia-dinh":`CÃ³ má»™t gia Ä‘Ã¬nh nhá» luÃ´n chá»n ká»¹ tá»«ng mÃ³n Ä‘á»“.
Há» hiá»ƒu ráº±ng bÃ¬nh yÃªn Ä‘áº¿n tá»« nhá»¯ng lá»±a chá»n Ä‘Ãºng.

ğŸ‘‰ Xem chi tiáº¿t táº¡i Ä‘Ã¢y:
${link}`,

  "suc-khoe":`NgÃ y xÆ°a cÃ³ ngÆ°á»i coi nháº¹ sá»©c khá»e,
Ä‘áº¿n khi má»‡t má»›i hiá»ƒu: an tÃ¢m lÃ  chá»n Ä‘Ãºng má»—i ngÃ y.

ğŸ‘‰ Tham kháº£o sáº£n pháº©m:
${link}`,

  "gia-dung":`CÃ³ má»™t ngÃ´i nhÃ  lÃºc nÃ o cÅ©ng gá»n gÃ ng,
vÃ¬ chá»§ nhÃ  chá»n Ä‘á»“ Ä‘Æ¡n giáº£n mÃ  hiá»‡u quáº£.

ğŸ‘‰ Xem mÃ³n nÃ y:
${link}`,

  "me-be":`NgÆ°á»i máº¹ hiá»ƒu ráº±ng yÃªu con lÃ  chá»n ká»¹,
khÃ´ng cáº§n nhiá»u, chá»‰ cáº§n an toÃ n.

ğŸ‘‰ Xem sáº£n pháº©m cho bÃ©:
${link}`,

  "cong-nghe":`CÃ´ng nghá»‡ tá»‘t khÃ´ng lÃ m ta rá»‘i,
mÃ  giÃºp cuá»™c sá»‘ng nháº¹ hÆ¡n má»—i ngÃ y.

ğŸ‘‰ Xem táº¡i Ä‘Ã¢y:
${link}`
 };

 story=stories[theme];

 data.unshift({
  link,
  price:+price.value,
  commission:+commission.value,
  story,
  click:0,
  time:Date.now()
 });
 save();
}

function render(){
 list.innerHTML="";
 data.forEach((i,idx)=>{
  const est = i.click*i.price*i.commission/100*0.02;
  list.innerHTML+=`
  <div class="card">
   <div class="story">${i.story}</div>
   <p><b>Click:</b> ${i.click} | <b>Æ¯á»›c:</b> ${Math.round(est).toLocaleString()}Ä‘</p>
   <button class="orange" onclick="buy(${idx})">ğŸ›’ CLICK MUA</button>
   <button class="blue" onclick="copy('${i.story.replace(/'/g,"")}')">ğŸ“‹ COPY BÃ€I</button>
  </div>`;
 });
}

function buy(i){
 data[i].click++;
 save();
 window.open(data[i].link,'_blank');
}

function copy(t){
 navigator.clipboard.writeText(t);
 alert("ÄÃ£ copy â€“ dÃ¡n Ä‘Äƒng ğŸ‘");
}

// ALARM
function setAlarm(){
 const t=document.getElementById("alarm").value;
 document.getElementById("alarmStatus").innerText="â° ÄÃ£ Ä‘áº·t: "+t;
 setInterval(()=>{
  const now=new Date();
  const h=String(now.getHours()).padStart(2,"0");
  const m=String(now.getMinutes()).padStart(2,"0");
  if(`${h}:${m}`===t){
   alert("ğŸ”” Äáº¾N GIá»œ ÄÄ‚NG BÃ€I AFFILIATE");
  }
 },60000);
}

render();
</script>

</body>
</html>
